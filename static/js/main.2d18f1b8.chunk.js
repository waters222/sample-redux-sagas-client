(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t){},184:function(e,t,n){e.exports=n.p+"static/media/avatar_0.80988518.svg"},198:function(e){e.exports={lang_chinese:"Chinese",lang_english:"English",dashboard:"Dashboard",account:"Account",account_info:"Account info",logout:"Logout",avatar:"Avatar",avatar_upload:"Change Avatar",avatar_upload_invalid_format:"invalid avatar file format {format}",avatar_upload_too_large:"can no upload file size larger then 2MB",client_title:"Demo Client",client_desc:"Sample Redux Sagas Client",login_input_placeholder_user_name:"user name: admin",login_input_placeholder_password:"password: admin",not_fount_desc:"Sorry, the page you looking for does not exists",back_to_home:"Back to home",submit:"Submit",login_remember_me:"Remember me",login_username_input_error_empty:"Please input your username!",login_password_input_error_empty:"Please input your Password!",email_input_error_empty:"Please input your email",phone_input_error_empty:"Please input your phone number",email_input_error_invalid:"invalid email format",phone_input_error_invalid:"invalid phone number format",ajax_invalid_password:"user name & password not match!",account_basic_setting:"Basic Setting",account_notification_setting:"Notification Setting","update-information":"Update Information","phone-number":"Phone Number"}},200:function(e){e.exports={lang_chinese:"\u4e2d\u6587",lang_english:"\u82f1\u6587",dashboard:"Dashboard",account:"\u8d26\u6237",account_info:"\u8d26\u6237\u4fe1\u606f",logout:"\u767b\u51fa",avatar:"\u5934\u50cf",avatar_upload:"\u66f4\u6362\u5934\u50cf",avatar_upload_invalid_format:"\u975e\u6cd5\u5934\u50cf\u683c\u5f0f {format}",avatar_upload_too_large:"\u5934\u50cf\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 2MB",client_title:"\u5ba2\u6237\u7aef\u8303\u4f8b",client_desc:"Redux Sagas \u5ba2\u6237\u7aef\u8303\u4f8b",login_input_placeholder_user_name:"\u7528\u6237\u540d: admin",login_input_placeholder_password:"\u5bc6\u7801: admin",not_fount_desc:"\u5bf9\u4e0d\u8d77, \u4f60\u8981\u627e\u7684\u9875\u9762\u4e0d\u5b58\u5728",back_to_home:"\u56de\u5230\u9996\u9875",submit:"\u63d0\u4ea4",login_remember_me:"\u8bb0\u4f4f\u6211",login_username_input_error_empty:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!",login_password_input_error_empty:"\u8bf7\u8f93\u5165\u5bc6\u7801!",email_input_error_empty:"\u8bf7\u8f93\u5165 Email",phone_input_error_empty:"\u8bf7\u8f93\u5165\u7535\u8bdd",email_input_error_invalid:"\u7535\u8bdd\u53f7\u7801\u683c\u5f0f\u9519\u8bef",phone_input_error_invalid:"Email \u683c\u5f0f\u9519\u8bef",ajax_invalid_password:"\u7528\u6237\u548c\u5bc6\u7801\u9519\u8bef!",account_basic_setting:"\u57fa\u672c\u8bbe\u7f6e",account_notification_setting:"\u6d88\u606f\u8bbe\u7f6e","update-information":"\u66f4\u6539\u4fe1\u606f","phone-number":"\u7535\u8bdd\u53f7\u7801"}},203:function(e,t,n){e.exports=n.p+"static/media/logo.8e26f220.svg"},210:function(e,t,n){e.exports=n(424)},219:function(e,t,n){},227:function(e,t){},233:function(e,t){},236:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},406:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var a,r=n(208),o=n(1),c=n(9),i=n(21),s=n(28),l=n(27),u=n(22),m=n(25),p=n(38);function d(e,t){return void 0===t?{type:e}:{type:e,payload:t}}!function(e){e.CHANGE_LANGUAGE="@@language/CHANGE_LANGUAGE"}(a||(a={}));var g,f=function(e){return d(a.CHANGE_LANGUAGE,{lang:e})},h=n(435),_=n(434),E=n(11),v=n(431),b=(n(219),n(179)),O=n(174),y=n(106),I=n(13),L=(n(236),n(433)),N=n(426),S=n(428),j=n(430),k=n(55),C=n(427),U=n(429);!function(e){e.LOGIN="@@account/LOGIN",e.LOGIN_SUCCESSFUL="@@account/LOGIN_SUCCESSFUL",e.LOGIN_FAILED="@@account/LOGIN_FAILED",e.LOGOUT="@@account/LOGOUT",e.LOGOUT_SUCCESSFUL="@@account/LOGOUT_SUCCESSFUL",e.LOGOUT_FAILED="@@account/LOGOUT_FAILED",e.GET_INFO="@@account/GET_INFO",e.GET_INFO_SUCCESSFUL="@@account/GET_INFO_SUCCESSFUL",e.GET_INFO_FAILED="@@account/GET_INFO_FAILED",e.UPDATE_INFO="@@account/UPDATE_INFO",e.UPDATE_INFO_SUCCESSFUL="@@account/UPDATE_INFO_SUCCESSFUL",e.UPDATE_INFO_FAILED="@@account/UPDATE_INFO_FAILED"}(g||(g={}));var F,w={login:function(e,t){return d(g.LOGIN,{name:e,password:t})},loginSuccessful:function(e,t){return d(g.LOGIN_SUCCESSFUL,{name:e,session:t})},loginFailed:function(e){return d(g.LOGIN_FAILED,e)},logout:function(){return d(g.LOGOUT)},logoutSuccessful:function(){return d(g.LOGOUT_SUCCESSFUL)},logoutFailed:function(e){return d(g.LOGOUT_FAILED,e)},getAccountInfo:function(){return d(g.GET_INFO)},getAccountInfoSuccessful:function(e,t){return d(g.GET_INFO_SUCCESSFUL,{email:e,phone:t})},getInfoFailed:function(e){return d(g.GET_INFO_FAILED,{error:e})},updateInfo:function(e,t){return d(g.UPDATE_INFO,{email:e,phone:t})},updateInfoSuccessful:function(e,t){return d(g.UPDATE_INFO_SUCCESSFUL,{email:e,phone:t})},updateInfoFailed:function(e){return d(g.UPDATE_INFO_FAILED,{error:e})}},x=n(183),A=Object(x.a)(function(e){return e.session},function(e){return e.name},function(e,t){return void 0!==e&&void 0!==t}),G=function(e){return e.errorLogin},R=function(e){return void 0!==e.info?e.info.phone:""},T=n(184),D=n.n(T),P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeEmail=function(e){var t=e.target.value,a=n.props.form.getFieldValue("phone");n.setState({bHasUpdate:n.props.email!==t||n.props.phone!==a})},n.onChangePhone=function(e){var t=e.target.value,a=n.props.form.getFieldValue("email");n.setState({bHasUpdate:n.props.email!==a||n.props.phone!==t})},n.onSubmit=function(){n.props.form.validateFields(function(e,t){e||n.props.updateInfo(t.email,t.phone)})},n.beforeUpload=function(e){var t=n.props.intl;switch(e.type){case"image/jpeg":case"image/jpg":case"image/png":case"image/svg+xml":break;default:return L.a.error("".concat(t.formatMessage({id:"avatar_upload_invalid_format"},{format:e.type}))),!1}return!(e.size/1024/1024>2)||(L.a.error("".concat(t.formatMessage({id:"avatar_upload_too_large"}))),!1)},n.handleUploadChange=function(e){if("uploading"!==e.file.status){if("done"===e.file.status&&void 0!==e.file.originFileObj){var t=new FileReader;t.addEventListener("load",function(){t.result instanceof ArrayBuffer||n.setState({bUploading:!1,avatarData:t.result})}),t.readAsDataURL(e.file.originFileObj)}}else n.setState({bUploading:!0})},n.state={bHasUpdate:!1,bUploading:!1,avatarData:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getInfo()}},{key:"render",value:function(){if(this.props.bIsGetInfoRequesting)return o.createElement("div",{className:"loading-page"},o.createElement(N.a,{size:"large"}));var e=this.props,t=e.intl,n=e.email,a=e.phone,r=this.props.form.getFieldDecorator,c=null!==this.state.avatarData?this.state.avatarData:D.a;return o.createElement("div",{className:"basic-setting-container"},o.createElement("div",{className:"leftPart"},o.createElement(S.a,null,o.createElement(S.a.Item,{label:"Email"},r("email",{initialValue:n,rules:[{required:!0,message:t.formatMessage({id:"email_input_error_empty"})},{pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:t.formatMessage({id:"email_input_error_invalid"})}]})(o.createElement(j.a,{onChange:this.onChangeEmail}))),o.createElement(S.a.Item,{label:t.formatMessage({id:"phone-number"})},r("phone",{initialValue:a,rules:[{required:!0,message:t.formatMessage({id:"phone_input_error_empty"})},{pattern:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,message:t.formatMessage({id:"phone_input_error_invalid"})}]})(o.createElement(j.a,{onChange:this.onChangePhone}))),o.createElement(k.a,{onClick:this.onSubmit,htmlType:"button",type:"primary",disabled:!this.state.bHasUpdate,loading:this.props.bIsUpdateInfoRequesting},o.createElement(I.a,{id:"update-information"})))),o.createElement("div",{className:"rightPart"},o.createElement("div",{className:"avatarTitle"},o.createElement(I.a,{id:"avatar"})),o.createElement("div",{className:"avatarIcon"},o.createElement(C.a,{size:128,src:c})),o.createElement(U.a,{name:"logo",beforeUpload:this.beforeUpload,action:"//jsonplaceholder.typicode.com/posts/",showUploadList:!1,onChange:this.handleUploadChange},o.createElement(k.a,{loading:this.state.bUploading},o.createElement(E.a,{type:"upload"})," ",o.createElement(I.a,{id:"avatar_upload"})))))}}]),t}(o.Component),q=S.a.create({name:"basic_setting"})(P),M=Object(p.connect)(function(e){var t,n=e.account;return{email:(t=n,void 0!==t.info?t.info.email:""),phone:R(n),bIsUpdateInfoRequesting:n.isUpdateInfoRequesting,bIsGetInfoRequesting:n.isGetInfoRequesting}},function(e){return{getInfo:function(){return e(w.getAccountInfo())},updateInfo:function(t,n){return e(w.updateInfo(t,n))}}})(Object(I.d)(q)),$=(n(391),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClickBackToHome=function(){n.props.history.push("/dashboard")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"layout-top-layer not-found"},o.createElement("div",{className:"container"},o.createElement("h1",null,"404"),o.createElement("div",{className:"not-found-desc"},o.createElement(I.a,{id:"not_fount_desc"})),o.createElement("div",{className:"not-fount-actions"},o.createElement(k.a,{type:"primary",size:"large",onClick:this.onClickBackToHome},o.createElement(I.a,{id:"back_to_home"})))))}}]),t}(o.Component)),z=(n(392),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",null,"notification setting")}}]),t}(o.Component)),H=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPath=function(e){var t=e.location.pathname.replace(e.match.url,"");return 0===t.length?"/":t},n.onSelect=function(e){var t="/"===e.key?"":e.key;n.props.history.push("".concat(n.props.match.url).concat(t))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.match,t=this.getPath(this.props);return o.createElement("div",{className:"account"},o.createElement("div",{className:"leftMenu"},o.createElement(_.a,{mode:"inline",theme:"light",className:"menu",selectedKeys:[t],onSelect:this.onSelect},o.createElement(_.a.Item,{key:"/"},o.createElement(I.a,{id:"account_basic_setting"})),o.createElement(_.a.Item,{key:"/notification"},o.createElement(I.a,{id:"account_notification_setting"})))),o.createElement("div",{className:"rightSide"},o.createElement(O.a,null,o.createElement(y.a,{exact:!0,path:"".concat(e.url),component:M}),o.createElement(y.a,{exact:!0,path:"".concat(e.url,"/notification"),component:z}),o.createElement(y.a,{component:$}))))}}]),t}(o.Component),K=Object(p.connect)()(H),B=n(78);!function(e){e.Language="cookie/language",e.Session="cookie/session"}(F||(F={}));var W="en_US",J={language:W},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.CHANGE_LANGUAGE){var n=ce(t.payload.lang);console.log("change lang from ".concat(e.language," to ").concat(n)),e.language!==n&&(!function(e){B.set(F.Language,e)}(n),location.reload())}return e},Z=n(197),Y=n(202),Q=n.n(Y),X=n(198),ee=n(199),te=n(201),ne=n.n(te),ae=n(200),re=[{key:"zh_CN",name:"lang_chinese"},{key:"en_US",name:"lang_english"}];function oe(e){return e.toLowerCase().split(/[_-]+/)[0]}function ce(e){switch(e=e.replace("-","_")){case"zh_CN":return e;default:return W}}var ie,se=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",null,"Home")}}]),t}(o.Component),le=n(203),ue=n.n(le),me=n(204),pe=n.n(me),de=h.a.Header,ge=h.a.Sider,fe=h.a.Content,he=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeLanguage=function(e){n.props.changeLanguage(e.key)},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.onClickLogo=function(){n.props.history.push("".concat(n.props.match.url))},n.onClickLogout=function(){n.props.logout()},n.onClickAccountInfo=function(){n.props.history.push("".concat(n.props.match.url,"/account/info"))},n.getMenuKeysFromPath=function(e){var t=e.location.pathname.replace(e.match.url,""),n=0===t.length?"/":t,a=n.split("/");return a.length>2?{selectedKey:n,openKey:"/".concat(a[1])}:{selectedKey:n,openKey:"/"}},n.onSelect=function(e){var t="/"===e.key?"":e.key;n.props.history.push("".concat(n.props.match.url).concat(t))},n.langMenu=function(){var e=[],t=!0,a=!1,r=void 0;try{for(var c,i=re[Symbol.iterator]();!(t=(c=i.next()).done);t=!0){var s=c.value;e.push(o.createElement(_.a.Item,{key:s.key},o.createElement(I.a,{id:s.name})))}}catch(l){a=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}return o.createElement(_.a,{className:"dropdown-menu",onClick:n.onChangeLanguage},e)},n.accountMenu=function(){return o.createElement(_.a,{className:"dropdown-menu"},o.createElement(_.a.Item,{onClick:n.onClickAccountInfo},o.createElement(E.a,{type:"user"}),o.createElement(I.a,{id:"account_info"})),o.createElement(_.a.Divider,null),o.createElement(_.a.Item,{onClick:n.onClickLogout},o.createElement(E.a,{type:"logout"}),o.createElement(I.a,{id:"logout"})))},n.state={collapsed:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.language===e.language}},{key:"render",value:function(){if(!this.props.bIsLogin)return o.createElement(b.a,{to:"/"});var e=this.props.match,t=this.getMenuKeysFromPath(this.props),n=t.selectedKey,a=t.openKey;return o.createElement(h.a,{className:"layout-top-layer"},o.createElement(ge,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},o.createElement("div",{className:"logo",onClick:this.onClickLogo},o.createElement("img",{src:ue.a}),o.createElement(I.a,{id:"client_title"})),o.createElement(_.a,{theme:"dark",mode:"inline",onSelect:this.onSelect,defaultOpenKeys:[a],selectedKeys:[n]},o.createElement(_.a.Item,{key:"/"},o.createElement(E.a,{type:"dashboard"}),o.createElement(I.a,{id:"dashboard"})),o.createElement(pe.a,{title:o.createElement("span",null,o.createElement(E.a,{type:"user"}),o.createElement("span",null,o.createElement(I.a,{id:"account"}))),key:"/account"},o.createElement(_.a.Item,{key:"/account/info"},o.createElement("span",null,o.createElement(I.a,{id:"account_info"})))))),o.createElement(h.a,null,o.createElement(de,{className:"header-white header-index"},o.createElement("div",{className:"header-index-box-shadow"},o.createElement("span",{className:"header-index-trigger",onClick:this.toggle},o.createElement(E.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold"})),o.createElement("div",{className:"header-index-right"},o.createElement(v.a,{overlay:this.accountMenu},o.createElement("span",{className:"index-action"},o.createElement(E.a,{type:"user"}),o.createElement("span",{className:"user-name"},this.props.userName))),o.createElement(v.a,{overlay:this.langMenu},o.createElement("span",{className:"index-action lang-select-dropdown"},o.createElement(E.a,{type:"global"})))))),o.createElement(fe,{className:"content"},o.createElement(O.a,null,o.createElement(y.a,{exact:!0,path:"".concat(e.url),component:se}),o.createElement(y.a,{path:"".concat(e.url,"/account/info"),component:K}),o.createElement(y.a,{component:$})))))}}]),t}(o.Component),_e=Object(p.connect)(function(e){var t=e.language,n=e.account;return{language:t.language,userName:n.name,bIsLogin:A(n)}},function(e){return{changeLanguage:function(t){return e(f(t))},logout:function(){return e(w.logout())}}})(he),Ee=n(437),ve=n(432),be=(n(406),h.a.Header),Oe=h.a.Content,ye=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChangeRememberMe=function(e){console.log("remember me: ".concat(e.target.checked))},n.onSubmit=function(){n.props.form.validateFields(function(e,t){e||n.props.login(t.userName,t.password)})},n.onChangeLanguage=function(e){n.props.changeLanguage(e.key)},n.langMenu=function(){var e=[],t=!0,a=!1,r=void 0;try{for(var c,i=re[Symbol.iterator]();!(t=(c=i.next()).done);t=!0){var s=c.value;e.push(o.createElement(_.a.Item,{key:s.key},o.createElement(I.a,{id:s.name})))}}catch(l){a=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}return o.createElement(_.a,{className:"dropdown-menu",onClick:n.onChangeLanguage},e)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=t.intl,a=t.bLoginRequesting,r=t.loginError;return t.bIsLogin?o.createElement(b.a,{to:"/dashboard"}):o.createElement(h.a,{className:"layout-top-layer"},o.createElement(be,{className:"header-light"},o.createElement("div",{className:"header-index"},o.createElement("div",{className:"header-index-right"},o.createElement(v.a,{overlay:this.langMenu},o.createElement("span",{className:"index-action lang-select-dropdown"},o.createElement(E.a,{type:"global"})))))),o.createElement(Oe,null,o.createElement(h.a,null,o.createElement(be,{className:"header-light header-index-center"},o.createElement("span",{className:"header-title"},o.createElement(I.a,{id:"client_title"}))),o.createElement(Oe,null,o.createElement("div",{className:"header-desc"},o.createElement(I.a,{id:"client_desc"})),o.createElement("div",{className:"container"},void 0!==r?o.createElement(Ee.a,{showIcon:!0,type:"error",message:n.formatMessage({id:r.id})}):null,o.createElement(S.a,{className:"login-form"},o.createElement(S.a.Item,null,e("userName",{rules:[{required:!0,message:n.formatMessage({id:"login_username_input_error_empty"})}]})(o.createElement(j.a,{placeholder:n.formatMessage({id:"login_input_placeholder_user_name"}),size:"large",prefix:o.createElement(E.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}})}))),o.createElement(S.a.Item,null,e("password",{rules:[{required:!0,message:n.formatMessage({id:"login_password_input_error_empty"})}]})(o.createElement(j.a,{placeholder:n.formatMessage({id:"login_input_placeholder_password"}),type:"password",size:"large",prefix:o.createElement(E.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),o.createElement(S.a.Item,null,o.createElement("div",{style:{float:"left"}},o.createElement(ve.a,{onChange:this.onChangeRememberMe},o.createElement(I.a,{id:"login_remember_me"})))),o.createElement(S.a.Item,null,o.createElement(k.a,{htmlType:"submit",type:"primary",onClick:this.onSubmit,className:"login-form-button",size:"large",loading:a},o.createElement(I.a,{id:"submit"})))))))))}}]),t}(o.Component),Ie=S.a.create({name:"login_form"})(ye),Le=Object(p.connect)(function(e){var t,n=e.account;return{bLoginRequesting:(t=n,t.isLoginRequesting),loginError:G(n),bIsLogin:A(n)}},function(e){return{login:function(t,n){return e(w.login(t,n))},changeLanguage:function(t){return e(f(t))}}})(Object(I.d)(Ie)),Ne=(n(412),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"App"},o.createElement(O.a,null,o.createElement(y.a,{path:"/dashboard",component:_e}),o.createElement(y.a,{path:"/",component:Le}),o.createElement(y.a,{component:$})))}}]),t}(o.Component)),Se=(n(413),n(50)),je=n(206),ke=n(74),Ce=(n(421),n(35)),Ue=n.n(Ce),Fe={name:void 0,session:void 0,isLoginRequesting:!1,errorLogin:void 0,isLogoutRequesting:!1,errorLogout:void 0,isUpdateInfoRequesting:!1,errorUpdateInfo:void 0,isGetInfoRequesting:!1,errorGetInfo:void 0,info:void 0},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.LOGIN:return Ue()(e,{isLoginRequesting:{$set:!0},errorLogin:{$set:void 0}});case g.LOGIN_SUCCESSFUL:var n=t.payload,a=n.name,r=n.session;if(function(e,t){try{return B.set(F.Session,JSON.stringify({name:e,session:t})),!0}catch(n){return console.log("[ERROR] store session into cookie failed: ".concat(n.message)),!1}}(a,r))return Ue()(e,{isLoginRequesting:{$set:!1},name:{$set:a},session:{$set:r}});break;case g.LOGIN_FAILED:return Ue()(e,{isLoginRequesting:{$set:!1},errorLogin:{$set:t.payload}});case g.LOGOUT:if(function(){try{return B.remove(F.Session),!0}catch(e){return console.log("[ERROR] clear session into cookie failed: ".concat(e.message)),!1}}())return Ue()(e,{isLogoutRequesting:{$set:!0},errorLogout:{$set:void 0}});break;case g.LOGOUT_SUCCESSFUL:return Ue()(e,{isLogoutRequesting:{$set:!1},name:{$set:void 0},session:{$set:void 0}});case g.LOGOUT_FAILED:return Ue()(e,{isLogoutRequesting:{$set:!1},errorLogout:{$set:t.payload}});case g.UPDATE_INFO:return Ue()(e,{isUpdateInfoRequesting:{$set:!0},errorUpdateInfo:{$set:void 0}});case g.UPDATE_INFO_SUCCESSFUL:var o=t.payload,c=o.email,i=o.phone;return Ue()(e,{isUpdateInfoRequesting:{$set:!1},info:{$set:{email:c,phone:i}}});case g.UPDATE_INFO_FAILED:return Ue()(e,{isUpdateInfoRequesting:{$set:!1},errorUpdateInfo:{$set:t.payload.error}});case g.GET_INFO:return Ue()(e,{isGetInfoRequesting:{$set:!0},errorGetInfo:{$set:void 0}});case g.GET_INFO_SUCCESSFUL:var s=t.payload,l=s.email,u=s.phone;return Ue()(e,{isGetInfoRequesting:{$set:!1},info:{$set:{email:l,phone:u}}});case g.GET_INFO_FAILED:return Ue()(e,{isGetInfoRequesting:{$set:!1},errorGetInfo:{$set:t.payload.error}})}return e},xe=function(e){return Object(Se.combineReducers)({account:we,language:V,router:Object(ke.connectRouter)(e)})},Ae=n(14),Ge=n.n(Ae),Re=n(18),Te=n(92),De=n(207),Pe=function(e){function t(e,n){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,n))).id=void 0,a.message="",a.id=e,void 0!==n&&(a.message=n),a}return Object(m.a)(t,e),t}(Object(De.a)(Error));!function(e){e.INVALID_PASSWORD="ajax_invalid_password",e.NETWORK_ERROR="network error"}(ie||(ie={}));var qe,Me=function(e){return new Promise(function(t){return setTimeout(t,e)})},$e=function(){var e=Object(Te.a)(Ge.a.mark(function e(t,n){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(1500);case 2:if("admin"!==t||"admin"!==n){e.next=6;break}qe="fake_session_".concat(Date.now()),e.next=7;break;case 6:throw new Pe(ie.INVALID_PASSWORD);case 7:return e.abrupt("return",qe);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Te.a)(Ge.a.mark(function e(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(300);case 2:void 0!==qe&&(qe=void 0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(Te.a)(Ge.a.mark(function e(t,n){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.setItem("account_info",JSON.stringify({email:t,phone:n})),e.next=3,Me(1e3);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(Te.a)(Ge.a.mark(function e(){var t,n,a,r,o;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("account_info"),n={email:"",phone:""},null===t){e.next=12;break}e.prev=3,a=JSON.parse(t),r=a.email,o=a.phone,r&&(n.email=r),o&&(n.phone=o),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),new Pe(ie.NETWORK_ERROR);case 12:return e.next=14,Me(1e3);case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,null,[[3,9]])}));return function(){return e.apply(this,arguments)}}(),Be=Ge.a.mark(Ye),We=Ge.a.mark(Qe),Je=Ge.a.mark(Xe),Ve=Ge.a.mark(et),Ze=Ge.a.mark(tt);function Ye(e){var t,n,a,r;return Ge.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.type!==g.LOGIN){o.next=14;break}return t=e.payload,n=t.name,a=t.password,o.prev=2,o.next=5,Object(Re.b)($e,n,a);case 5:return r=o.sent,o.next=8,Object(Re.c)(w.loginSuccessful(n,r));case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(Re.c)(w.loginFailed(o.t0));case 14:case"end":return o.stop()}},Be,null,[[2,10]])}function Qe(e){return Ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!==g.LOGOUT){t.next=12;break}return t.prev=1,t.next=4,Object(Re.b)(ze);case 4:return t.next=6,Object(Re.c)(w.logoutSuccessful());case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,Object(Re.c)(w.logoutFailed(t.t0));case 12:case"end":return t.stop()}},We,null,[[1,8]])}function Xe(e){var t,n,a;return Ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.type!==g.GET_INFO){r.next=15;break}return r.prev=1,r.next=4,Object(Re.b)(Ke);case 4:return t=r.sent,n=t.email,a=t.phone,r.next=9,Object(Re.c)(w.getAccountInfoSuccessful(n,a));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(1),r.next=15,Object(Re.c)(w.getInfoFailed(r.t0));case 15:case"end":return r.stop()}},Je,null,[[1,11]])}function et(e){var t,n,a;return Ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.type!==g.UPDATE_INFO){r.next=13;break}return r.prev=1,t=e.payload,n=t.email,a=t.phone,r.next=5,Object(Re.b)(He,n,a);case 5:return r.next=7,Object(Re.c)(w.updateInfoSuccessful(n,a));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(Re.c)(w.updateInfoFailed(r.t0));case 13:case"end":return r.stop()}},Ve,null,[[1,9]])}function tt(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Re.a)([Object(Re.e)(g.LOGIN,Ye),Object(Re.e)(g.LOGOUT,Qe),Object(Re.e)(g.GET_INFO,Xe),Object(Re.e)(g.UPDATE_INFO,et)]);case 2:case"end":return e.stop()}},Ze)}var nt=Ge.a.mark(at);function at(){var e,t,n;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=[tt],t=Ge.a.mark(function t(){var a;return Ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e[n],t.next=3,Object(Re.d)(Ge.a.mark(function e(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(Re.b)(a);case 4:return e.abrupt("break",12);case 7:e.prev=7,e.t0=e.catch(1),console.log("saga error: ".concat(e.t0.message));case 10:e.next=0;break;case 12:case"end":return e.stop()}},e,null,[[1,7]])}));case 3:case"end":return t.stop()}},t)}),n=0;case 4:if(!(n<e.length)){a.next=9;break}return a.delegateYield(t(),"t0",6);case 6:n++,a.next=4;break;case 9:case"end":return a.stop()}},nt)}var rt=function(e,t){var n=Object(je.a)(),a=Object(Se.applyMiddleware)(Object(ke.routerMiddleware)(e),n),r=Object(Se.createStore)(xe(e),t,a);return n.run(at),r},ot=n(33),ct=n(436),it=new function e(t,n,a){Object(i.a)(this,e),this.host=void 0,this.basePath=void 0,this.bIsDev=!0,this.bIsDev=t,this.host=a,this.basePath=a}(!1,"https://weishi258.github.io","/sample-redux-sagas-client"),st=Object(ot.a)({basename:it.basePath}),lt=function(){var e=B.get(F.Language);return void 0!==e?e:navigator.languages&&navigator.languages[0]||navigator.language}(),ut=function(e){switch(e=ce(e)){case"zh_CN":return Object(I.c)(ee),{languageWithoutRegionCode:oe(e),locale:ne.a,messages:ae};default:return Object(I.c)(Z),{languageWithoutRegionCode:oe(W),locale:Q.a,messages:X}}}(lt),mt=function(){var e=B.get(F.Session);if(void 0!==e)try{var t=JSON.parse(e);if(void 0!==t.name&&""!==t.name&&void 0!==t.session&&""!==t.session)return{name:t.name,session:t.session}}catch(n){console.log("[ERROR] parse session cookie object failed: ".concat(n.message))}}(),pt=rt(st,{account:void 0!==mt?Object(r.a)({},Fe,{name:mt.name,session:mt.session}):Fe,language:{language:lt},router:{location:{pathname:"/",search:"",hash:"",state:null},action:"REPLACE"}});c.render(o.createElement(p.Provider,{store:pt},o.createElement(I.b,{locale:ut.languageWithoutRegionCode,messages:ut.messages},o.createElement(ct.a,{locale:ut.locale},o.createElement(ke.ConnectedRouter,{history:st},o.createElement(Ne,null))))),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.2d18f1b8.chunk.js.map