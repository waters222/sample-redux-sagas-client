(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t){},158:function(e){e.exports={lang_chinese:"Chinese",lang_english:"English",account_info:"Account info",logout:"Logout",client_title:"Demo Client",client_desc:"Sample Redux Sagas Client",login_input_placeholder_user_name:"user name: admin",login_input_placeholder_password:"password: admin",not_fount_desc:"Sorry, the page you looking for does not exists",back_to_home:"Back to home",submit:"Submit",login_remember_me:"Remember me",login_username_input_error_empty:"Please input your username!",login_password_input_error_empty:"Please input your Password!",ajax_invalid_password:"user name & password not match!"}},160:function(e){e.exports={lang_chinese:"\u4e2d\u6587",lang_english:"\u82f1\u6587",account_info:"\u8d26\u6237\u4fe1\u606f",logout:"\u767b\u51fa",client_title:"\u5ba2\u6237\u7aef\u8303\u4f8b",client_desc:"Redux Sagas \u5ba2\u6237\u7aef\u8303\u4f8b",login_input_placeholder_user_name:"\u7528\u6237\u540d: admin",login_input_placeholder_password:"\u5bc6\u7801: admin",not_fount_desc:"\u5bf9\u4e0d\u8d77, \u4f60\u8981\u627e\u7684\u9875\u9762\u4e0d\u5b58\u5728",back_to_home:"\u56de\u5230\u9996\u9875",submit:"\u63d0\u4ea4",login_remember_me:"\u8bb0\u4f4f\u6211",login_username_input_error_empty:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!",login_password_input_error_empty:"\u8bf7\u8f93\u5165\u5bc6\u7801!",ajax_invalid_password:"\u7528\u6237\u548c\u5bc6\u7801\u9519\u8bef!"}},176:function(e,t,n){e.exports=n(345)},185:function(e,t,n){},193:function(e,t){},199:function(e,t){},202:function(e,t,n){},264:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a,r=n(174),o=n(1),c=n(8),s=n(29),i=n(38),l=n(32),u=n(26),m=n(30),g=n(55);function d(e,t){return void 0===t?{type:e}:{type:e,payload:t}}!function(e){e.CHANGE_LANGUAGE="@@language/CHANGE_LANGUAGE"}(a||(a={}));var p,f=function(e){return d(a.CHANGE_LANGUAGE,{lang:e})},h=n(352),E=n(348),_=n(13),b=n(350),v=(n(185),n(147)),O=n(148),y=n(93),L=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.createElement("span",null,"this is account page")}}]),t}(o.Component),N=n(50),k=n(16),w=(n(202),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClickBackToHome=function(){n.props.history.push("/dashboard")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"layout-top-layer not-found"},o.createElement("div",{className:"container"},o.createElement("h1",null,"404"),o.createElement("div",{className:"not-found-desc"},o.createElement(k.a,{id:"not_fount_desc"})),o.createElement("div",{className:"not-fount-actions"},o.createElement(N.a,{type:"primary",size:"large",onClick:this.onClickBackToHome},o.createElement(k.a,{id:"back_to_home"})))))}}]),t}(o.Component)),C=n(156),j=Object(C.a)(function(e){return e.session},function(e){return e.name},function(e,t){return void 0!==e&&void 0!==t}),x=function(e){return e.errorLogin};!function(e){e.LOGIN="@@account/LOGIN",e.LOGIN_SUCCESSFUL="@@account/LOGIN_SUCCESSFUL",e.LOGIN_FAILED="@@account/LOGIN_FAILED",e.LOGOUT="@@account/LOGOUT",e.LOGOUT_SUCCESSFUL="@@account/LOGOUT_SUCCESSFUL",e.LOGOUT_FAILED="@@account/LOGOUT_FAILED"}(p||(p={}));var S,I={login:function(e,t){return d(p.LOGIN,{name:e,password:t})},loginSuccessful:function(e,t){return d(p.LOGIN_SUCCESSFUL,{name:e,session:t})},loginFailed:function(e){return d(p.LOGIN_FAILED,e)},logout:function(){return d(p.LOGOUT)},logoutSuccessful:function(){return d(p.LOGOUT_SUCCESSFUL)},logoutFailed:function(e){return d(p.LOGOUT_FAILED,e)}},G=n(71);!function(e){e.Language="cookie/language",e.Session="cookie/session"}(S||(S={}));var U="en_US",R={language:U},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.CHANGE_LANGUAGE){var n=B(t.payload.lang);console.log("change lang from ".concat(e.language," to ").concat(n)),e.language!==n&&(!function(e){G.set(S.Language,e)}(n),location.reload())}return e},F=n(157),T=n(162),D=n.n(T),M=n(158),$=n(159),q=n(161),P=n.n(q),H=n(160),z=[{key:"zh_CN",name:"lang_chinese"},{key:"en_US",name:"lang_english"}];function W(e){return e.toLowerCase().split(/[_-]+/)[0]}function B(e){switch(e=e.replace("-","_")){case"zh_CN":return e;default:return U}}var J,V=h.a.Header,K=h.a.Sider,Y=h.a.Content,Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeLanguage=function(e){n.props.changeLanguage(e.key)},n.toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.onClickLogout=function(){n.props.logout()},n.langMenu=function(){var e=[],t=!0,a=!1,r=void 0;try{for(var c,s=z[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var i=c.value;e.push(o.createElement(E.a.Item,{key:i.key},o.createElement(k.a,{id:i.name})))}}catch(l){a=!0,r=l}finally{try{t||null==s.return||s.return()}finally{if(a)throw r}}return o.createElement(E.a,{className:"dropdown-menu",onClick:n.onChangeLanguage},e)},n.accountMenu=function(){return o.createElement(E.a,{className:"dropdown-menu"},o.createElement(E.a.Item,null,o.createElement(_.a,{type:"user"}),o.createElement(k.a,{id:"account_info"})),o.createElement(E.a.Divider,null),o.createElement(E.a.Item,{onClick:n.onClickLogout},o.createElement(_.a,{type:"logout"}),o.createElement(k.a,{id:"logout"})))},n.state={collapsed:!1},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.language===e.language}},{key:"render",value:function(){return this.props.bIsLogin?o.createElement(h.a,{className:"layout-top-layer"},o.createElement(K,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},o.createElement(E.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},o.createElement(E.a.Item,{key:"1"},o.createElement(_.a,{type:"user"}),o.createElement("span",null,"nav 1")),o.createElement(E.a.Item,{key:"2"},o.createElement(_.a,{type:"video-camera"}),o.createElement("span",null,"nav 2")),o.createElement(E.a.Item,{key:"3"},o.createElement(_.a,{type:"upload"}),o.createElement("span",null,"nav 3")))),o.createElement(h.a,null,o.createElement(V,{className:"header-white header-index"},o.createElement("div",{className:"header-index-box-shadow"},o.createElement("span",{className:"header-index-trigger",onClick:this.toggle},o.createElement(_.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold"})),o.createElement("div",{className:"header-index-right"},o.createElement(b.a,{overlay:this.accountMenu},o.createElement("span",{className:"index-action"},o.createElement(_.a,{type:"user"}),o.createElement("span",{className:"user-name"},this.props.userName))),o.createElement(b.a,{overlay:this.langMenu},o.createElement("span",{className:"index-action lang-select-dropdown"},o.createElement(_.a,{type:"global"})))))),o.createElement(Y,{className:"content"},o.createElement(O.a,null,o.createElement(y.a,{path:"/account",component:L}),o.createElement(y.a,{component:w}))))):o.createElement(v.a,{to:"/"})}}]),t}(o.Component),X=Object(g.connect)(function(e){var t=e.language,n=e.account;return{language:t.language,userName:n.name,bIsLogin:j(n)}},function(e){return{changeLanguage:function(t){return e(f(t))},logout:function(){return e(I.logout())}}})(Q),Z=n(354),ee=n(347),te=n(349),ne=n(351),ae=(n(264),h.a.Header),re=h.a.Content,oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChangeUserName=function(e){n.setState({userName:e.target.value})},n.onChangePassword=function(e){n.setState({password:e.target.value})},n.onChangeRememberMe=function(e){console.log("remember me: ".concat(e.target.checked))},n.onSubmit=function(){n.props.form.validateFields(function(e,t){e||n.props.login(t.userName,t.password)})},n.onChangeLanguage=function(e){n.props.changeLanguage(e.key)},n.langMenu=function(){var e=[],t=!0,a=!1,r=void 0;try{for(var c,s=z[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var i=c.value;e.push(o.createElement(E.a.Item,{key:i.key},o.createElement(k.a,{id:i.name})))}}catch(l){a=!0,r=l}finally{try{t||null==s.return||s.return()}finally{if(a)throw r}}return o.createElement(E.a,{className:"dropdown-menu",onClick:n.onChangeLanguage},e)},n.state={userName:"",password:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=t.intl,a=t.bLoginRequesting,r=t.loginError;return t.bIsLogin?o.createElement(v.a,{to:"/dashboard"}):o.createElement(h.a,{className:"layout-top-layer"},o.createElement(ae,{className:"header-light"},o.createElement("div",{className:"header-index"},o.createElement("div",{className:"header-index-right"},o.createElement(b.a,{overlay:this.langMenu},o.createElement("span",{className:"index-action lang-select-dropdown"},o.createElement(_.a,{type:"global"})))))),o.createElement(re,null,o.createElement(h.a,null,o.createElement(ae,{className:"header-light header-index-center"},o.createElement("span",{className:"header-title"},o.createElement(k.a,{id:"client_title"}))),o.createElement(re,null,o.createElement("div",{className:"header-desc"},o.createElement(k.a,{id:"client_desc"})),o.createElement("div",{className:"container"},void 0!==r?o.createElement(Z.a,{showIcon:!0,type:"error",message:n.formatMessage({id:r.id})}):null,o.createElement(ee.a,{className:"login-form"},o.createElement(ee.a.Item,null,e("userName",{rules:[{required:!0,message:n.formatMessage({id:"login_username_input_error_empty"})}]})(o.createElement(te.a,{placeholder:n.formatMessage({id:"login_input_placeholder_user_name"}),size:"large",prefix:o.createElement(_.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),onChange:this.onChangeUserName}))),o.createElement(ee.a.Item,null,e("password",{rules:[{required:!0,message:n.formatMessage({id:"login_password_input_error_empty"})}]})(o.createElement(te.a,{placeholder:n.formatMessage({id:"login_input_placeholder_password"}),type:"password",size:"large",prefix:o.createElement(_.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),onChange:this.onChangePassword}))),o.createElement(ee.a.Item,null,o.createElement("div",{style:{float:"left"}},o.createElement(ne.a,{onChange:this.onChangeRememberMe},o.createElement(k.a,{id:"login_remember_me"})))),o.createElement(ee.a.Item,null,o.createElement(N.a,{htmlType:"submit",type:"primary",onClick:this.onSubmit,className:"login-form-button",size:"large",loading:a},o.createElement(k.a,{id:"submit"})))))))))}}]),t}(o.Component),ce=ee.a.create({name:"login_form"})(oe),se=Object(g.connect)(function(e){var t,n=e.account;return{bLoginRequesting:(t=n,t.isLoginRequesting),loginError:x(n),bIsLogin:j(n)}},function(e){return{login:function(t,n){return e(I.login(t,n))},changeLanguage:function(t){return e(f(t))}}})(Object(k.d)(ce)),ie=(n(332),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.createElement("div",{className:"App"},o.createElement(O.a,null,o.createElement(y.a,{exact:!0,path:"/sample-redux-sagas-client/",component:se}),o.createElement(y.a,{path:"/sample-redux-sagas-client/dashboard",component:X}),o.createElement(y.a,{component:w})))}}]),t}(o.Component)),le=(n(333),n(45)),ue=n(172),me=n(66),ge=(n(341),n(58)),de=n.n(ge),pe={name:void 0,session:void 0,isLoginRequesting:!1,errorLogin:void 0,isLogoutRequesting:!1,errorLogout:void 0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.LOGIN:return de()(e,{isLoginRequesting:{$set:!0},errorLogin:{$set:void 0}});case p.LOGIN_SUCCESSFUL:var n=t.payload,a=n.name,r=n.session;if(function(e,t){try{return G.set(S.Session,JSON.stringify({name:e,session:t})),!0}catch(n){return console.log("[ERROR] store session into cookie failed: ".concat(n.message)),!1}}(a,r))return de()(e,{isLoginRequesting:{$set:!1},name:{$set:a},session:{$set:r}});break;case p.LOGIN_FAILED:return de()(e,{isLoginRequesting:{$set:!1},errorLogin:{$set:t.payload}});case p.LOGOUT:if(function(){try{return G.remove(S.Session),!0}catch(e){return console.log("[ERROR] clear session into cookie failed: ".concat(e.message)),!1}}())return de()(e,{isLogoutRequesting:{$set:!0},errorLogout:{$set:void 0}});break;case p.LOGOUT_SUCCESSFUL:return de()(e,{isLogoutRequesting:{$set:!1},name:{$set:void 0},session:{$set:void 0}});case p.LOGOUT_FAILED:return de()(e,{isLogoutRequesting:{$set:!1},errorLogout:{$set:t.payload}})}return e},he=function(e){return Object(le.combineReducers)({account:fe,language:A,router:Object(me.connectRouter)(e)})},Ee=n(17),_e=n.n(Ee),be=n(25),ve=n(125),Oe=n(173),ye=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,n))).id=void 0,a.message="",a.id=e,void 0!==n&&(a.message=n),a}return Object(m.a)(t,e),t}(Object(Oe.a)(Error));!function(e){e.INVALID_PASSWORD="ajax_invalid_password"}(J||(J={}));var Le,Ne=function(e){return new Promise(function(t){return setTimeout(t,e)})},ke=function(){var e=Object(ve.a)(_e.a.mark(function e(t,n){return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(1500);case 2:if("admin"!==t||"admin"!==n){e.next=6;break}Le="fake_session_".concat(Date.now()),e.next=7;break;case 6:throw new ye(J.INVALID_PASSWORD);case 7:return e.abrupt("return",Le);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),we=function(){var e=Object(ve.a)(_e.a.mark(function e(){return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(300);case 2:void 0!==Le&&(Le=void 0);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ce=_e.a.mark(Se),je=_e.a.mark(Ie),xe=_e.a.mark(Ge);function Se(e){var t,n,a,r;return _e.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.type!==p.LOGIN){o.next=14;break}return t=e.payload,n=t.name,a=t.password,o.prev=2,o.next=5,Object(be.b)(ke,n,a);case 5:return r=o.sent,o.next=8,Object(be.c)(I.loginSuccessful(n,r));case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(2),o.next=14,Object(be.c)(I.loginFailed(o.t0));case 14:case"end":return o.stop()}},Ce,null,[[2,10]])}function Ie(e){return _e.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!==p.LOGOUT){t.next=12;break}return t.prev=1,t.next=4,Object(be.b)(we);case 4:return t.next=6,Object(be.c)(I.logoutSuccessful());case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,Object(be.c)(I.logoutFailed(t.t0.message));case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}},je,null,[[1,8]])}function Ge(){return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.a)([Object(be.e)(p.LOGIN,Se),Object(be.e)(p.LOGOUT,Ie)]);case 2:case"end":return e.stop()}},xe)}var Ue=_e.a.mark(Re);function Re(){var e,t,n;return _e.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=[Ge],t=_e.a.mark(function t(){var a;return _e.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e[n],t.next=3,Object(be.d)(_e.a.mark(function e(){return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(be.b)(a);case 4:return e.abrupt("break",12);case 7:e.prev=7,e.t0=e.catch(1),console.log("saga error: ".concat(e.t0.message));case 10:e.next=0;break;case 12:case"end":return e.stop()}},e,null,[[1,7]])}));case 3:case"end":return t.stop()}},t)}),n=0;case 4:if(!(n<e.length)){a.next=9;break}return a.delegateYield(t(),"t0",6);case 6:n++,a.next=4;break;case 9:case"end":return a.stop()}},Ue)}var Ae=function(e,t){var n=Object(ue.a)(),a=Object(le.applyMiddleware)(Object(me.routerMiddleware)(e),n),r=Object(le.createStore)(he(e),t,a);return n.run(Re),r},Fe=n(27),Te=n(353),De=Object(Fe.a)(),Me=function(){var e=G.get(S.Language);return void 0!==e?e:navigator.languages&&navigator.languages[0]||navigator.language}(),$e=function(e){switch(e=B(e)){case"zh_CN":return Object(k.c)($),{languageWithoutRegionCode:W(e),locale:P.a,messages:H};default:return Object(k.c)(F),{languageWithoutRegionCode:W(U),locale:D.a,messages:M}}}(Me),qe=function(){var e=G.get(S.Session);if(void 0!==e)try{var t=JSON.parse(e);if(void 0!==t.name&&""!==t.name&&void 0!==t.session&&""!==t.session)return{name:t.name,session:t.session}}catch(n){console.log("[ERROR] parse session cookie object failed: ".concat(n.message))}}(),Pe=Ae(De,{account:void 0!==qe?Object(r.a)({},pe,{name:qe.name,session:qe.session}):pe,language:{language:Me},router:{location:{pathname:"/",search:"",hash:"",state:null},action:"REPLACE"}});c.render(o.createElement(g.Provider,{store:Pe},o.createElement(k.b,{locale:$e.languageWithoutRegionCode,messages:$e.messages},o.createElement(Te.a,{locale:$e.locale},o.createElement(me.ConnectedRouter,{history:De},o.createElement(ie,null))))),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.6e92273f.chunk.js.map